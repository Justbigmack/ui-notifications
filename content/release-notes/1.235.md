# Build 235

2022-10-04

## Features

### Rate aggregation for infrastructure

The **Infrastructure & Platforms** datasource in **Custom Dashboards** now supports calculating rates of counters.

### Kubernetes logs context

In the **Logs** view of the _Analytics_ page on Instana UI, when you expand the log details by clicking the chevron button, the information that is related with Kubernetes and Infrastructure is now displayed in separate groups.

Additionally, health dots are added to the log details view to show the health of the entities that are related to the log message. The health dots change color according to the entityâ€™s health status, and also show the number of current issues on hover.

## Improvements

* IBM DataPower Sensor: Changed the DataPower sensor to use the host agent threadPoolProvider to improve the agent performance.

### Custom alert support for IBM i

* Added the custom event for inactive jobs. Specify the `inactiveJobs` field in the `user_specification:activeJobs:event:inactiveJobs` section of the Instana agent configuration file. Then, an event will be triggered if the defined `Job Name` is not in `Active` state.
* Added the custom event for network port. Specify the `LOCAL_PORT/LOCAL_ADDRESS` field in the `user_specification:netstatEventInfo` section of the Instana agent configuration file. Then, an event will be triggered for the defined port if the status of the port is not `LISTEN` or `Null`.
  To validate a particular port irrespective of the address, use the asterisk (*) for the address part. For example, '38695/*'

###  Support for dynamic custom payload for Application Smart Alerts

* Added support for configuring dynamic custom payloads in Application Smart Alerts. 


## Fixes

* IBM DataPower Sensor: Fixed the problem that the domain name was wrongly shown as `IBM DataPower Domain` and the service name was wrongly shown as `IBM DataPower Service` on Instana UI when one service's local port was null.

* Fixed the problem that users with RBAC restrictions see containerd or crio containers as unmonitored in the pod containers tab.

* Db2 LUW Sensor: Fixed the problem that the host agent fails to create inventories for the `db2sysc `process that runs in containers during the local monitoring.

* Fixed an issue in the *Log Analytics* page on Instana UI, where opening a log link within the current tab didn't update the focused log.

* Fixed a race condition that can lead to some false positive alerts or temporarily incorrect state of monitored infrastructure on Instana UI.

## Deprecations

### TagFilters removed from AP/WS SmartAlerts

The `tagFilters` field is removed from AP/Website SmartAlerts. All `tagFiters` fields that are passed to AP/Website alert configurations are converted to `TagFilterExpression` by using `AND`.